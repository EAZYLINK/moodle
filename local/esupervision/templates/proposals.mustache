{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_esupervision/proposals

    TODO describe template proposals

    Example context (json):{{!
    This file is part of Moodle - http://moodle.org/
    
    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    
    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
    GNU General Public License for more details.
    
    You should have received a copy of the GNU General Public License
    along with Moodle. If not, see
    <http: //www.gnu.org/licenses />.
    
    TODO describe template projects
    
    Example context (json):
    {
    }
}}
    {{#issupervisor}}
    <table class="table">
        <caption class="text-center">
            Submitted Proposals
        </caption>
        <tbody>
            <tr>
                <th>SN</th>
                <th>Student Name</th>
                <th>Title</th>
                <th>Description</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
            {{#proposals}}
            <tr>
                <td>{{ id }}</td>
                <td>{{ studentname }}</td>
                <td>{{ title }}</td>
                <td>{{{ content }}}</td>
                <td>{{ status }}</td>
                <td>
                    <button class="btn"><a href="?action=view&id={{ id }}">view</a></button>
                </td>
            </tr>
            {{/proposals}}
        </tbody>
    </table>
    {{/issupervisor}}
    
    {{^issupervisor}}
    <div class="container">
        <h4 class="mt-5">Submissions</h4>
        <div class="row">
            {{#proposals}}
            <div class="max-auto card m-3">
                <div class="card-header my-2"><strong>Title: </strong> {{ title }}</div>
                <div class="card-body">
                    <div class="card-text my-2"><strong>Proposal content: </strong> {{{ content }}}</div>
                    <small>timecreated:  <span class="badge badge-secondary"> {{timecreated}}</span></small><br>
                    <small>timemodified:  <span class="badge badge-secondary">{{timemodified}}</span></small><br>
            <div class="card m-2">
            <div class="card-header"><strong>Supervisor's comment:</strong></div>
            {{#feedbacks}}
            <div class="card-body" style="display: flex; justify-content: space-between; align-items: center;">
                <p class="card-text">{{{feedback}}} </p>
                <small class="badge badge-secondary mx-2">{{timecreated}}</small>
            </div>
            {{/feedbacks}}
            </div>
                <div class="card-footer text-center">
                    <a href="?action=edit&id={{ id }}" class="btn mx-3"><img src="assets/edit.png"></a>
                    <a href="?action=delete&id={{ id }}" class="btn mx-3"><img src="assets/delete.png"></a>
                </div>
            </div>
            {{/proposals}}
        </div>
    </div>
    {{/issupervisor}}
    
    {{#viewproposal}}
    <div class="container">
        <h4 class="mt-5">Proposal details</h4>
        <div class="rol">
            {{#proposal}}
            <div class="max-auto card m-3">
                    <div class="card-header border-0 mx-3"><strong>Title:</strong> {{ title }}</div>
                    <div class="card-body mx-3">
                        <div class="card-text my-2"><strong>Proposal details</strong> {{{ content }}}</div>
                        <div class="card-text my-2"><strong>Student name:</strong>  {{ studentname }}</div>
                        <small class="card-text my-2">Time created: <span class="badge badge-secondary">{{timecreated}}</span></small><br>
                        <small class="card-text my-2">Last modified:  <span class="badge badge-secondary">{{timemodified}}</span></small><br>
                        <div class="card mt-2">
                        <div class="card-header"><strong>Comments:</strong></div>
                        {{#feedbacks}}
                        <div class="card-body" style="display: flex; justify-content: space-between; align-items: center;">
                            <p class="card-text">{{{feedback}}} </p>
                            <small class="badge badge-secondary mx-2">{{timecreated}}</small>
                            <a href="?action=editfeedback&id={{ id }}" class="btn mx-3"><img src="assets/edit.png"></a>
                            <a href="?action=deletefeedback&id={{ id }}" class="btn mx-3"><img src="assets/delete.png"></a>
                        </div>
                        {{/feedbacks}}
                    </div>
                    <div class="card-footer text-center border-0">
                        <a href="?action=approve&id={{ id }}" class="btn btn-outline-primary mx-2">Approve</a>
                        <a href="?action=reject&id={{ id }}" class="btn btn-outline-danger mx-2">Reject</a>
                    </div>
            </div>
            {{/proposal}}
        </div>
    </div>
    {{/viewproposal}}
